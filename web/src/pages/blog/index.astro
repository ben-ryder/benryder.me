---
import {apiClient} from "@lib/api/api-client";
import GlobalLayout from "../../layouts/GlobalLayout/GlobalLayout.astro";
import {CardComplexListing} from "../../components/CardComplexListing/CardComplexListing";

const blogPosts = await apiClient.getBlogPosts()
const blogPostTags = await apiClient.getBlogPostTags()
---

<GlobalLayout title="Blog">
	<CardComplexListing
		title="My Blog Posts"
		description="All my blog posts"
		cards={blogPosts.map(blogPost => {
			return {
				title: blogPost.title,
				description: blogPost.description,
				link: `/blog/${blogPost.slug}`,
				tags: blogPost.tags
			}
		})}
		tags={blogPostTags}
		client:load
	/>
</GlobalLayout>
